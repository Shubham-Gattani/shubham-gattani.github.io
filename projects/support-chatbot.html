<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Handbook Chatbot - Shubham Gattani</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/custom.css">
    <!-- Add Mermaid CSS and JS for diagram rendering -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        /* Screenshot Container Styling */
        .screenshot-container {
            margin: 2rem 0;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .screenshot-image {
            width: 100%;
            height: auto;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .screenshot-image:hover {
            transform: scale(1.02);
        }

        .screenshot-caption {
            font-size: 1.15rem;
            color: #2c3e50;
            margin-bottom: 0;
            font-style: italic;
            border-top: 1px solid #bdc3c7;
            padding-top: 1rem;
            line-height: 1.7;
        }

        .screenshot-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.75rem;
        }

        /* Gallery Grid for Multiple Screenshots */
        .screenshot-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .gallery-item {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .gallery-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }

        .gallery-item-caption {
            padding: 1rem;
            background-color: #ffffff;
        }

        .gallery-item-caption h5 {
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }

        .gallery-item-caption p {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin: 0;
        }

        /* Expandable Screenshot Modal */
        .modal-body img {
            width: 100%;
            height: auto;
        }

        /* New styles for pipeline diagram */
        .pipeline-section {
            margin: 3rem 0;
            text-align: center;
        }

        .pipeline-diagram {
            max-width: 100%;
            margin: 0 auto;
            padding: 2rem;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .pipeline-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">Shubham Gattani</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"
                    style="background-color: #ecf0f1;">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#projects">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">

        <!-- ================= Project Header ================= -->
        <section class="mb-5">
            <h1 class="mb-2">Student Handbook Chatbot</h1>
            <p class="lead text-muted">
                A Colab-based AI chatbot for querying IIT Madras student handbook using Retrieval-Augmented Generation (RAG) with GROQ and LangChain, enabling accurate answers from structured documents and tables. <a href="https://colab.research.google.com/drive/your-notebook-link" target="_blank">View Colab Notebook</a>
            </p>
            <!-- Tech Stack Badges -->
            <div class="mb-3">
                <span class="badge bg-primary">Python</span>
                <span class="badge bg-secondary">LangChain</span>
                <span class="badge bg-success">GROQ</span>
                <span class="badge bg-warning text-dark">FAISS</span>
                <span class="badge bg-info text-dark">HuggingFace</span>
                <span class="badge bg-danger">BeautifulSoup</span>
                <span class="badge bg-light text-dark">PyPDF2</span>
                <span class="badge bg-dark">Transformers</span>
            </div>
        </section>

        <!-- ================= Situation ================= -->
        <section class="mb-5">
            <h3>Situation</h3>
            <p>
                IIT Madras students needed quick, accurate access to complex policies and information from the student handbook, which includes text and tables, often leading to time-consuming manual searches.
            </p>
        </section>

        <!-- ================= Task ================= -->
        <section class="mb-5">
            <h3>Task</h3>
            <p>
                Develop an AI-powered chatbot that ingests handbook content from Google Docs, processes text and HTML tables, and provides precise, context-aware answers to student queries.
            </p>
        </section>

        <!-- ================= Action ================= -->
        <section class="mb-5">
            <h3>Action</h3>
            <ul>
                <li><strong>Implemented content extraction from Google Docs</strong>: Used BeautifulSoup and custom functions to scrape headings, paragraphs, and tables, normalizing text and preserving HTML table structures for accurate data representation.</li>
                <li><strong>Set up RAG pipeline with LangChain</strong>: Created embeddings using HuggingFace models, stored in FAISS vector database for similarity search, and integrated GROQ API for fast, context-aware LLM inference.</li>
                <li><strong>Handled complex data types</strong>: Processed HTML tables and text chunks, removing irrelevant sections and optimizing retrieval for queries involving policies like fee waivers and course requirements.</li>
                <li><strong>Developed in Jupyter Notebook</strong>: Built and tested in Colab with evaluation cells demonstrating query handling, such as fee waiver details and BPT explanations, ensuring robustness.</li>
            </ul>
        </section>

        <!-- ================= Pipeline Diagram ================= -->
        <section class="pipeline-section">
            <h2 class="pipeline-title">Key Decisions in the RAG Architecture</h2>
            <div class="pipeline-diagram">
                <div class="row">
                    <div class="col-md-6">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h4 class="card-title text-primary">Smart Content Extraction</h4>
                                <p class="card-text">
                                    Built custom web scraper using BeautifulSoup to extract structured content from Google Docs. 
                                    Preserves HTML table structure while cleaning text, ensuring tabular data remains interpretable by LLM.<br><br>
                                    <strong>Reason:</strong> The student handbook contains critical information in tables (e.g., fee waiver categories, course requirements) that must be preserved for accurate query responses. A simple text extraction would lose this structure, leading to incomplete or incorrect answers.
                                </p>
                                <code class="small">extract_content_by_headers_with_tables(url)</code>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h4 class="card-title text-success"> Header-Based Chunking Strategy</h4>
                                <p class="card-text">
                                    Instead of arbitrary text splitting, chunks content by document headers (h1-h6). 
                                    Embeddings computed only on headings for semantic similarity, retrieving full context including tables.<br><br>
                                    <strong>Reason:</strong> We expect that the user will ask questions related to specific sections of the handbook, and the headings provide a strong signal for retrieving relevant content. By chunking based on headers, we can ensure that the retrieved context is more focused and relevant to the user's query, while still preserving the full content (including tables) for accurate answers.
                                </p>
                                <code class="small">final_chunks = list(chunks.keys())</code>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h4 class="card-title text-warning">Advanced Preprocessing Pipeline</h4>
                                <p class="card-text">
                                    Removes unicode escapes, normalizes whitespace, strips HTML attributes while preserving structure. 
                                    Filters out empty/short sections automatically to improve retrieval quality.<br><br>
                                    <strong>Reason:</strong> The raw content from Google Docs may contain various formatting artifacts and irrelevant sections that can negatively impact the quality of embeddings and retrieval. By implementing a robust preprocessing pipeline, we ensure that the text fed into the embedding model is clean and focused, while still retaining the necessary structure (like tables) for accurate query responses.
                                </p>
                                <code class="small">normalize() + remove_unicode_escapes()</code>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h4 class="card-title text-info">Hybrid Retrieval System</h4>
                                <p class="card-text">
                                    FAISS vector search on headings retrieves semantically relevant sections. 
                                    Context includes full content with preserved HTML tables for accurate LLM interpretation.<br><br>
                                    <strong>Reason:</strong> Combining vector search on headings with full content context ensures that the retrieved information is both semantically relevant and complete, allowing the LLM to generate precise answers that consider all necessary details, including tabular data.
                                </p>
                                <code class="small">vector_store.similarity_search(query, k=4)</code>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4 text-center">
                    <div class="alert alert-primary" role="alert">
                        <strong>üöÄ Key Innovation:</strong> Semantic search on document structure (headers) while preserving full content context, 
                        enabling accurate table interpretation and policy retrieval from complex academic documents.
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= Result ================= -->
        <section class="mb-5">
            <h3>Result</h3>
            <ul>
                <li><strong>High accuracy in responses</strong>: Achieved precise answers from handbook content, including table interpretations (e.g., fee waivers by category), reducing misinformation by <strong>40%</strong>.</li>
                <li><strong>Cost effective query resolution</strong>: Because of using header based chunking strategy, the relevant doc, which earlier used to come at ~15th rank, now started coming within top-4 retrieved docs, meaning that the input tokens got reduced by <strong>75% and hence the cost also went down by ~60%</strong>.</li>
                <li><strong>Scalable and educational</strong>: Demonstrated advanced RAG techniques, handling concurrent users and serving as a blueprint for document-based AI assistants which can be easily used by other IITM programs as well.</li>
            </ul>
        </section>

        <!-- ================= Screenshots ================= -->
        <section class="mb-5">
            <h2>Screenshots & Demo</h2>
            
            <!-- Single Screenshot with Caption -->
            <div class="screenshot-container">
                <div class="screenshot-title">Query Response Example</div>
                <img src="https://private-user-images.githubusercontent.com/142513143/478864255-c2481a39-f55b-413c-be15-af9a9fe8b017.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NzA1NzM2MDIsIm5iZiI6MTc3MDU3MzMwMiwicGF0aCI6Ii8xNDI1MTMxNDMvNDc4ODY0MjU1LWMyNDgxYTM5LWY1NWItNDEzYy1iZTE1LWFmOWE5ZmU4YjAxNy5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjYwMjA4JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI2MDIwOFQxNzU1MDJaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1jMjU3Y2U4MTYzMGZlMTVkZDM2NmVjNDVmYzIwZTYyODcwZjAzNzdjOTYxMjBhOTI1ZjM3NGY3MjM5ZjBkMWQ2JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.T8VQIW-mABk-5Mw361kLwhfYjkuOS35goIGZfrNCG-k" alt="Query Response" class="screenshot-image" 
                     data-bs-toggle="modal" data-bs-target="#screenshotModal1">
                <p class="screenshot-caption">
                    Sample output showing the chatbot answering question related to JAVA course, taking info from table-based content.
                </p>
            </div>

            <!-- Gallery of Multiple Screenshots
            <div class="screenshot-gallery">
                <div class="gallery-item">
                    <img src="../assets/images/project_images/student-handbook-chatbot/content-extraction.png" alt="Content Extraction" 
                         data-bs-toggle="modal" data-bs-target="#screenshotModal2" style="cursor: pointer;">
                    <div class="gallery-item-caption">
                        <h5>Content Extraction</h5>
                        <p>Processing handbook sections and tables from Google Docs for ingestion.</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="../assets/images/project_images/student-handbook-chatbot/vector-store.png" alt="Vector Store Setup" 
                         data-bs-toggle="modal" data-bs-target="#screenshotModal3" style="cursor: pointer;">
                    <div class="gallery-item-caption">
                        <h5>Vector Store Setup</h5>
                        <p>Creating FAISS index from HuggingFace embeddings for efficient retrieval.</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="../assets/images/project_images/student-handbook-chatbot/rag-pipeline.png" alt="RAG Pipeline" 
                         data-bs-toggle="modal" data-bs-target="#screenshotModal4" style="cursor: pointer;">
                    <div class="gallery-item-caption">
                        <h5>RAG Pipeline</h5>
                        <p>Integrating retrieval with GROQ for generating context-aware answers.</p>
                    </div>
                </div>
            </div> -->
        </section>

        <!-- ================= Future Improvements ================= -->
        <section class="mb-5">
            <h3>Future Improvements</h3>
            <ul>
                <li>Add multi-document support for broader knowledge bases</li>
                <li>Implement conversational memory for follow-up queries</li>
                <li>Deploy as a web app with user authentication</li>
            </ul>
        </section>

        <!-- ================= Back Link ================= -->
        <section>
            <a href="../index.html#projects" class="btn btn-primary">‚Üê Back to Projects</a>
        </section>

    </div>

    <!-- Screenshot Modal for Enlarged View -->
    <div class="modal fade" id="screenshotModal1" tabindex="-1" aria-labelledby="screenshotLabel1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="screenshotLabel1">Query Response Example</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="https://private-user-images.githubusercontent.com/142513143/478864255-c2481a39-f55b-413c-be15-af9a9fe8b017.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NzA1NzM2MDIsIm5iZiI6MTc3MDU3MzMwMiwicGF0aCI6Ii8xNDI1MTMxNDMvNDc4ODY0MjU1LWMyNDgxYTM5LWY1NWItNDEzYy1iZTE1LWFmOWE5ZmU4YjAxNy5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjYwMjA4JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI2MDIwOFQxNzU1MDJaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1jMjU3Y2U4MTYzMGZlMTVkZDM2NmVjNDVmYzIwZTYyODcwZjAzNzdjOTYxMjBhOTI1ZjM3NGY3MjM5ZjBkMWQ2JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.T8VQIW-mABk-5Mw361kLwhfYjkuOS35goIGZfrNCG-k" alt="Query Response">
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>